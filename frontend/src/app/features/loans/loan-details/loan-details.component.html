<div class="loan-details" *ngIf="!loading && !error && loan">
	<mat-card class="header-card">
		<mat-card-header>
			<mat-icon>assignment</mat-icon>
			<mat-card-title>Loan Details</mat-card-title>
			<mat-card-subtitle>ID: {{ loan.id }}</mat-card-subtitle>
		</mat-card-header>
		<mat-card-actions>
			<button mat-button color="primary" (click)="goBack()">
				<mat-icon>arrow_back</mat-icon>
				Back to My Loans
			</button>
		</mat-card-actions>
	</mat-card>

	<mat-card class="info-card">
		<mat-card-content>
			<div class="info-grid">
				<div>
					<div class="label">Type</div>
					<div class="value">{{ loan.loanType || 'N/A' }}</div>
				</div>
				<div>
					<div class="label">Amount</div>
					<div class="value">₹{{ loan.amount | number:'1.0-0' }}</div>
				</div>
				<div>
					<div class="label">Term (months)</div>
					<div class="value">{{ loan.termMonths || loan.tenure || '—' }}</div>
				</div>
				<div>
					<div class="label">Rate (%)</div>
					<div class="value">{{ loan.ratePercent || loan.interestRate || '—' }}</div>
				</div>
				<div>
					<div class="label">Status</div>
					<div class="value status">
						<mat-chip selected color="primary">{{ loan.status || 'Unknown' }}</mat-chip>
					</div>
				</div>
				<div>
					<div class="label">User ID</div>
					<div class="value">{{ loan.userId || '—' }}</div>
				</div>
				<div>
					<div class="label">Created</div>
					<div class="value">{{ loan.createdAt || loan.startDate || '—' }}</div>
				</div>
			</div>
		</mat-card-content>
	</mat-card>
</div>

<div class="loading" *ngIf="loading">
	<mat-icon>hourglass_empty</mat-icon>
	<span>Loading loan details...</span>
</div>

<div class="error" *ngIf="!loading && error">
	<mat-icon>error_outline</mat-icon>
	<span>{{ error }}</span>
</div>
