server.port=8080
spring.application.name=api-gateway
# spring.config.import=optional:configserver:http://localhost:8888
spring.cloud.config.fail-fast=true
spring.cloud.config.retry.max-attempts=5
spring.cloud.config.retry.initial-interval=2000

# JWT secret must match auth-service (aligned with config-repo value)
app.jwt.secret=mySecretKeyForJWTTokenGenerationAndValidation123456789012345678901234567890

# Eureka client - REQUIRED for service discovery
eureka.client.service-url.defaultZone=http://localhost:8761/eureka
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true

# # CORS (gateway-level) for local dev
#  spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedOrigins=http://localhost:4200
#   spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS,PATCH
#  .cloud.gateway.globalcors.cors-configurations.[/**].allowedHeaders=*
#  spring.cloud.gateway.globalcors.cors-configurations.[/**].allowCredentials=true
#  spring.cloud.gateway.globalcors.add-to-simple-url-handler-mapping=true

# Swagger/OpenAPI Configuration for API Gateway
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.urls[0].name=Auth Service
springdoc.swagger-ui.urls[0].url=/auth-service/api-docs
springdoc.swagger-ui.urls[1].name=Loan Service
springdoc.swagger-ui.urls[1].url=/loan-service/api-docs
springdoc.swagger-ui.urls[2].name=Loan Application Service
springdoc.swagger-ui.urls[2].url=/loan-application-service/api-docs
springdoc.swagger-ui.urls[3].name=Profile Service
springdoc.swagger-ui.urls[3].url=/profile-service/api-docs
springdoc.swagger-ui.urls[4].name=Notification Service
springdoc.swagger-ui.urls[4].url=/notification-service/api-docs
springdoc.swagger-ui.urls[5].name=Report Service
springdoc.swagger-ui.urls[5].url=/report-service/api-docs
# Error Handling Configuration
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false